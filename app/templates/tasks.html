<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Mis tareas</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tasks.css') }}">
    <script defer src="{{ url_for('static', filename='js/tasks.js') }}"></script>
</head>
<body>
<h2>Nueva tarea</h2>

<form method="POST" action="{{ url_for('tasks.create_task') }}">
    <label>
        TÃ­tulo:
        <input type="text" name="title" required>
    </label>
    <br><br>

    <label>
        DescripciÃ³n:
        <textarea name="description" required></textarea>
    </label>
    <br><br>

    <button type="submit">Crear tarea</button>
</form>

<hr>

<ul class="task-list">
    {% for task in tasks %}
        <li class="task-item">
            <strong>{{ task.title }}</strong>

            <button
                class="toggle-btn"
                data-task-id="{{ task.id }}">
                Ver descripciÃ³n
            </button>
            <form method="POST" action="{{ url_for('tasks.delete_task', task_id=task.id) }}"
                onsubmit="return confirm('Â¿Seguro que quieres borrar esta tarea?');">
                <button type="submit">ğŸ—‘ï¸ Eliminar</button>
            </form>
            <div
                class="task-description"
                id="desc-{{ task.id }}"
                style="display: none;">
                {{ task.description }}
            </div>
        </li>
    {% endfor %}
</ul>

<a href="{{ url_for('auth.logout') }}">Cerrar sesiÃ³n</a>

</body>
</html>

